<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Weather Dashboard ‚Äî Open-Meteo + Tomorrow.io Radar</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Mapbox GL JS -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
  
  <!-- Local CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <div id="map"></div>

  <!-- Search Bar -->
  <div class="search-container">
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search city, address, or zip code..." />
      <button id="searchBtn">üîç</button>
    </div>
    <div id="searchResults" class="search-results hidden"></div>
  </div>

  <!-- Radar Animation Controls -->
  <div class="radar-animation-controls">
    <div class="animation-header">
      <div class="radar-time-info">
        <span id="radarTime">Loading...</span>
        <span id="radarTimeMode">LIVE</span>
      </div>
    </div>
    
    <div class="animation-controls">
      <button id="playPauseBtn" class="control-btn">‚è∏Ô∏è</button>
      <button id="prevBtn" class="control-btn">‚èÆÔ∏è</button>
      <button id="nextBtn" class="control-btn">‚è≠Ô∏è</button>
      <div class="speed-control">
        <label>Speed:</label>
        <select id="animationSpeed">
          <option value="2000">Slow</option>
          <option value="1000" selected>Normal</option>
          <option value="500">Fast</option>
        </select>
      </div>
    </div>

    <div class="time-slider-container">
      <input type="range" id="timeSlider" min="0" max="11" value="11" step="1">
      <div class="time-labels">
        <span>-3h</span>
        <span>Now</span>
      </div>
    </div>
  </div>

  <!-- Weather Info Panel -->
  <div id="weatherPanel" class="weather-panel hidden">
    <div class="panel-header">
      <h3 id="locationName">Weather Information</h3>
      <button id="closePanel" class="close-btn">√ó</button>
    </div>
    
    <div class="panel-content">
      <div class="location-info">
        <div id="locationAddress" class="location-address">Click on map for weather info</div>
        <div id="locationCoords" class="location-coords"></div>
      </div>

      <div class="current-weather">
        <div class="temp-display">
          <span id="currentTemp">--¬∞</span>
          <div class="temp-details">
            <div id="feelsLike">Feels like --¬∞</div>
            <div id="conditions">Loading...</div>
          </div>
        </div>
      </div>
      
      <div class="weather-details">
        <div class="detail-item">
          <span class="label">Humidity</span>
          <span id="humidity" class="value">--%</span>
        </div>
        <div class="detail-item">
          <span class="label">Wind</span>
          <span id="windSpeed" class="value">-- mph</span>
        </div>
        <div class="detail-item">
          <span class="label">Wind Direction</span>
          <span id="windDirection" class="value">--</span>
        </div>
        <div class="detail-item">
          <span class="label">Pressure</span>
          <span id="pressure" class="value">-- mb</span>
        </div>
        <div class="detail-item">
          <span class="label">Visibility</span>
          <span id="visibility" class="value">-- mi</span>
        </div>
        <div class="detail-item">
          <span class="label">UV Index</span>
          <span id="uvIndex" class="value">--</span>
        </div>
        <div class="detail-item">
          <span class="label">Dew Point</span>
          <span id="dewPoint" class="value">--¬∞</span>
        </div>
        <div class="detail-item">
          <span class="label">Cloud Cover</span>
          <span id="cloudCover" class="value">--%</span>
        </div>
      </div>
      
      <div class="hourly-forecast">
        <h4>24-Hour Forecast</h4>
        <div id="hourlyData" class="hourly-container">
          Loading hourly data...
        </div>
      </div>

      <div class="daily-forecast">
        <h4>7-Day Forecast</h4>
        <div id="dailyData" class="daily-container">
          Loading daily forecast...
        </div>
      </div>
    </div>
  </div>

  <!-- Radar Controls -->
  <div class="radar-controls">
    <div class="control-group">
      <label>Radar Type:</label>
      <select id="radarType">
        <option value="precipitationIntensity">Precipitation</option>
        <option value="temperature">Temperature</option>
        <option value="windSpeed">Wind Speed</option>
        <option value="cloudCover">Cloud Cover</option>
      </select>
    </div>
    
    <div class="control-group">
      <label>Opacity:</label>
      <input type="range" id="opacitySlider" min="0" max="100" value="70">
      <span id="opacityValue">70%</span>
    </div>
  </div>

  <!-- Legend -->
  <div class="radar-legend">
    <div class="legend-title">Precipitation Intensity</div>
    <div class="legend-scale">
      <div class="legend-item">
        <div class="legend-color" style="background: #00ff00;"></div>
        <span>Light</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #ffff00;"></div>
        <span>Moderate</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #ff8000;"></div>
        <span>Heavy</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #ff0000;"></div>
        <span>Intense</span>
      </div>
    </div>
  </div>

  <!-- Click Marker -->
  <div id="clickMarker" class="click-marker hidden">üìç</div>
</div>

<!-- Local JavaScript -->
<script src="script.js"></script>

</body>
</html>