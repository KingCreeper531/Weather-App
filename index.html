<!-- ========================================
     HTML STARTS HERE
     File: index.html
     Storm Surge Weather Dashboard - Mobile Optimized
======================================== -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Storm Surge Weather ‚Äî NEXRAD Level II Radar</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Mapbox GL JS -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
  
  <!-- Local CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="app-container">
  <!-- Top Bar -->
  <div class="top-bar">
    <button id="settingsBtn" class="top-btn" title="Settings">‚öôÔ∏è</button>
    <div class="location-display">
      <span id="currentLocation">San Francisco, CA</span>
    </div>
    <button id="searchBtn" class="top-btn" title="Search">üîç</button>
  </div>

  <!-- Map Container -->
  <div id="map"></div>

  <!-- Weather Info Card (Mobile Style) -->
  <div id="weatherCard" class="weather-card hidden">
    <button id="closeWeatherCard" class="close-card-btn">√ó</button>
    
    <div class="weather-card-header">
      <div class="weather-icon">üå§Ô∏è</div>
      <div class="weather-temp">
        <span id="cardTemp">--¬∞</span>
        <span id="cardCondition">Clear</span>
      </div>
    </div>

    <div class="weather-stats">
      <div class="stat-row">
        <span class="stat-label">Rain</span>
        <span id="rainChance" class="stat-value">0%</span>
      </div>
      <div class="stat-row">
        <span class="stat-label">Wind</span>
        <span id="windStat" class="stat-value">-- mph</span>
      </div>
    </div>

    <div class="hourly-scroll" id="hourlyScroll">
      <!-- Hourly items populated by JS -->
    </div>
  </div>

  <!-- Warnings List (Side Panel) -->
  <div id="warningsList" class="warnings-list hidden">
    <div class="warnings-header">
      <h3>‚ö†Ô∏è Alerts (<span id="alertCount">0</span>)</h3>
      <button id="closeWarnings" class="close-warnings-btn">√ó</button>
    </div>
    <div id="warningsContent" class="warnings-content">
      <!-- Populated by JS -->
    </div>
  </div>

  <!-- Skywarn Reports Panel -->
  <div id="skywarnPanel" class="skywarn-panel hidden">
    <div class="panel-header">
      <h3>üëÅÔ∏è Skywarn Reports</h3>
      <button class="close-panel-btn" onclick="document.getElementById('skywarnPanel').classList.add('hidden')">√ó</button>
    </div>
    <div id="skywarnContent" class="panel-content">
      <!-- Populated by JS -->
    </div>
  </div>

  <!-- Radar Legend (Side) -->
  <div class="radar-legend">
    <div class="legend-title" id="legendTitle">Reflectivity (dBZ)</div>
    <div class="legend-gradient" id="legendGradient">
      <!-- Color gradient -->
    </div>
    <div class="legend-labels">
      <span>0</span>
      <span>20</span>
      <span>40</span>
      <span>60</span>
      <span>80</span>
    </div>
  </div>

  <!-- Bottom Control Bar -->
  <div class="bottom-controls">
    <div class="time-display">
      <span id="currentTime">12:00 PM</span>
      <span id="timeMode" class="time-badge">LIVE</span>
    </div>
    
    <div class="playback-controls">
      <button id="playPauseBtn" class="play-btn">‚è∏Ô∏è</button>
      <div class="time-slider-wrapper">
        <input type="range" id="timeSlider" min="0" max="11" value="11" step="1" />
      </div>
      <button id="alertsBtn" class="alerts-btn">
        <span class="alerts-icon">‚ö†Ô∏è</span>
        <span id="alertBadge" class="alert-badge hidden">0</span>
      </button>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal hidden">
    <div class="modal-content settings-modal">
      <div class="modal-header">
        <h2>‚öôÔ∏è Settings</h2>
        <button class="close-modal-btn" onclick="closeSettings()">√ó</button>
      </div>
      
      <div class="modal-body settings-body">
        <div class="settings-section">
          <h3>Radar Settings</h3>
          
          <div class="setting-item">
            <label>Radar Product</label>
            <select id="radarProductSelect">
              <option value="base-reflectivity">Base Reflectivity</option>
              <option value="composite-reflectivity" selected>Composite Reflectivity</option>
              <option value="base-velocity">Base Velocity</option>
              <option value="storm-relative-velocity">Storm Relative Velocity</option>
              <option value="correlation-coefficient">Correlation Coefficient</option>
              <option value="differential-reflectivity">Differential Reflectivity</option>
              <option value="specific-differential-phase">Specific Differential Phase</option>
              <option value="one-hour-precipitation">One Hour Precipitation</option>
              <option value="storm-total-precipitation">Storm Total Precipitation</option>
            </select>
          </div>

          <div class="setting-item">
            <label>Tilt Angle</label>
            <select id="tiltAngleSelect">
              <option value="0.5" selected>0.5¬∞</option>
              <option value="0.9">0.9¬∞</option>
              <option value="1.3">1.3¬∞</option>
              <option value="1.8">1.8¬∞</option>
              <option value="2.4">2.4¬∞</option>
              <option value="3.1">3.1¬∞</option>
              <option value="4.0">4.0¬∞</option>
              <option value="5.1">5.1¬∞</option>
              <option value="6.4">6.4¬∞</option>
              <option value="8.0">8.0¬∞</option>
              <option value="10.0">10.0¬∞</option>
              <option value="12.0">12.0¬∞</option>
              <option value="14.6">14.6¬∞</option>
              <option value="19.5">19.5¬∞</option>
            </select>
          </div>

          <div class="setting-item">
            <label>Radar Opacity</label>
            <input type="range" id="radarOpacity" min="0" max="100" value="70" />
            <span id="opacityDisplay">70%</span>
          </div>
        </div>

        <div class="settings-section">
          <h3>Map Settings</h3>
          
          <div class="setting-item toggle-item">
            <label>Satellite Imagery</label>
            <input type="checkbox" id="satelliteToggle" />
          </div>

          <div class="setting-item toggle-item">
            <label>Show Warning Polygons</label>
            <input type="checkbox" id="polygonsToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show Lightning</label>
            <input type="checkbox" id="lightningToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show Storm Fronts</label>
            <input type="checkbox" id="frontsToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show SPC Outlooks</label>
            <input type="checkbox" id="spcToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show TVS Signatures</label>
            <input type="checkbox" id="tvsToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show Storm Tracks</label>
            <input type="checkbox" id="tracksToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show Skywarn Reports</label>
            <input type="checkbox" id="skywarnToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show TDWR Radars</label>
            <input type="checkbox" id="tdwrToggle" />
          </div>
        </div>

        <div class="settings-section">
          <h3>Warning Types to Show</h3>
          
          <div class="warning-types-grid">
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Tornado Warning" />
              <span>Tornado Warning</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Severe Thunderstorm Warning" />
              <span>Severe T-Storm</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Flash Flood Warning" />
              <span>Flash Flood</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Flood Warning" />
              <span>Flood Warning</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Winter Storm Warning" />
              <span>Winter Storm</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Winter Weather Advisory" />
              <span>Winter Weather</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="High Wind Warning" />
              <span>High Wind</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Gale Warning" />
              <span>Gale Warning</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Dense Fog Advisory" />
              <span>Dense Fog</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Special Weather Statement" />
              <span>Special Weather</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Heat Advisory" />
              <span>Heat Advisory</span>
            </label>
            <label class="warning-type-item">
              <input type="checkbox" checked data-warning-type="Excessive Heat Warning" />
              <span>Excessive Heat</span>
            </label>
          </div>
        </div>

        <div class="settings-section">
          <h3>UI Settings</h3>
          
          <div class="setting-item toggle-item">
            <label>Show Weather Card</label>
            <input type="checkbox" id="weatherCardToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show Radar Legend</label>
            <input type="checkbox" id="legendToggle" checked />
          </div>

          <div class="setting-item toggle-item">
            <label>Show Time Display</label>
            <input type="checkbox" id="timeDisplayToggle" checked />
          </div>
        </div>

        <div class="settings-section">
          <h3>About</h3>
          <div class="about-info">
            <p><strong>Storm Surge Weather</strong></p>
            <p>Version 2.0</p>
            <p>NEXRAD Level II Dual-Pol Radar</p>
            <p>Data: NOAA, NWS, AWS NEXRAD</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Search Modal -->
  <div id="searchModal" class="modal hidden">
    <div class="modal-content search-modal">
      <div class="modal-header">
        <h2>üîç Search Location</h2>
        <button class="close-modal-btn" onclick="closeSearch()">√ó</button>
      </div>
      
      <div class="modal-body">
        <div class="search-input-wrapper">
          <input type="text" id="searchInput" placeholder="City, address, or zip code..." />
        </div>
        <div id="searchResults" class="search-results-list">
          <!-- Populated by JS -->
        </div>
      </div>
    </div>
  </div>

  <!-- Warning Detail Modal -->
  <div id="warningModal" class="modal hidden">
    <div class="modal-content warning-detail-modal">
      <div class="modal-header" id="warningModalHeader">
        <h2 id="warningModalTitle">Warning Details</h2>
        <button class="close-modal-btn" onclick="closeWarningModal()">√ó</button>
      </div>
      
      <div class="modal-body">
        <div class="warning-detail-section">
          <div class="detail-row">
            <span class="detail-label">Issued:</span>
            <span id="warningIssued" class="detail-value">--</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Expires:</span>
            <span id="warningExpires" class="detail-value">--</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Severity:</span>
            <span id="warningSeverity" class="detail-value">--</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Source:</span>
            <span id="warningSource" class="detail-value">--</span>
          </div>
        </div>

        <div class="warning-detail-section">
          <h3>Description</h3>
          <p id="warningDescription">--</p>
        </div>

        <div class="warning-detail-section">
          <h3>Affected Areas</h3>
          <div id="warningAreas" class="areas-list">--</div>
        </div>

        <div class="warning-actions">
          <button id="playWeatherRadioBtn" class="action-btn primary">
            üîä Play Weather Radio
          </button>
          <button id="shareWarningBtn" class="action-btn secondary">
            üì§ Share
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Feedback Modal -->
  <div id="feedbackModal" class="modal hidden">
    <div class="modal-content feedback-modal">
      <div class="modal-header">
        <h2>üí¨ Send Feedback</h2>
        <button class="close-modal-btn" onclick="closeFeedback()">√ó</button>
      </div>
      
      <div class="modal-body">
        <textarea id="feedbackText" placeholder="Tell us what you think, report bugs, or suggest features..." rows="6"></textarea>
        <button id="submitFeedbackBtn" class="action-btn primary full-width">
          Send Feedback
        </button>
        <p class="feedback-note">Feedback will be sent to stormsurgee025@gmail.com</p>
      </div>
    </div>
  </div>

  <!-- Loading Indicator -->
  <div id="loadingIndicator" class="loading-indicator hidden">
    <div class="spinner"></div>
    <p>Loading radar data...</p>
  </div>

  <!-- Toast Notifications -->
  <div id="toastContainer" class="toast-container"></div>
</div>

<!-- Local JavaScript -->
<script src="script.js"></script>

</body>
</html>
<!-- ======================================== 
     HTML ENDS HERE
======================================== -->